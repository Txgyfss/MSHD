{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport request from \"@/utils/request\";\nexport default {\n  name: \"ManagerLayout\",\n  data() {\n    return {\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\n    };\n  },\n  mounted() {\n    this.$bus.$on('updateTx', tx => {\n      this.user.tx = tx;\n    });\n  },\n  methods: {\n    goToPerson() {\n      if (this.user.role === 1) {\n        this.$router.push(\"/end/pAdmin\");\n      }\n      if (this.user.role === 2) {\n        this.$router.push(\"/end/pUser\");\n      }\n    },\n    navToFront() {\n      // this.$router.push(\"/front/index\")\n      // location.reload()\n    },\n    logout() {\n      localStorage.removeItem(\"user\");\n      this.$router.push(\"/login\");\n    }\n  }\n};","map":{"version":3,"names":["request","name","data","user","localStorage","getItem","JSON","parse","mounted","$bus","$on","tx","methods","goToPerson","role","$router","push","navToFront","logout","removeItem"],"sources":["src/views/ManagerLayout.vue"],"sourcesContent":["\n<template>\n  <div>\n    <!--头部-->\n    <div class=\"manager-header\" id=\"header\">\n      <a href=\"\">\n        <div class=\"manager-header-left\">\n<!--          <img src=\"@/assets/imgs/logo.jpg\" alt=\"\">-->\n          <div class=\"title\">多源灾情数据管理服务系统</div>\n        </div>\n      </a>\n<!--      <div class=\"manager-header-content-left\">通用商场后台</div>-->\n      <div class=\"manager-header-center\">欢迎您，{{ user.username }}</div>\n      <div class=\"manager-header-right\">\n        <el-dropdown placement=\"bottom\">\n          <div class=\"avatar-box\"><img :src=\"user.avatar\"></div>\n          <el-dropdown-menu slot=\"dropdown\">\n            <div @click=\"goToPerson()\"><el-dropdown-item>个人信息</el-dropdown-item></div>\n            <a href=\"/front/index\"><div><el-dropdown-item>前往前台</el-dropdown-item></div></a>\n            <div @click=\"logout()\"><el-dropdown-item>退出登录</el-dropdown-item></div>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </div>\n    </div>\n    <!-- 中间部分-->\n    <div style=\"display: flex\">\n      <!--菜单-->\n      <div id=\"main-menu\">\n        <div class=\"main-nav\">\n          <el-menu :default-active=\"$route.path\" router class=\"main-nav-menu\">\n\t\t\t\t\t\t<el-submenu index=\"1\" v-if=\"user.role === 1\">\n\t\t\t\t\t\t\t<template slot=\"title\"><i class=\"el-icon-house\"></i><span>系统首页</span></template>\n\t\t\t\t\t\t\t<el-menu-item index=\"/end/index\">数据可视化</el-menu-item>\n\t\t\t\t\t\t</el-submenu>\n\t\t\t\t\t\t<el-submenu index=\"2\" v-if=\"user.role === 1\">\n\t\t\t\t\t\t\t<template slot=\"title\"><i class=\"el-icon-data-line\"></i><span>数据展示</span></template>\n\t\t\t\t\t\t\t<el-menu-item index=\"/end/advertising\">灾情图表</el-menu-item>\n<!--\t\t\t\t\t\t\t<el-menu-item index=\"/end/user\">用户</el-menu-item>-->\n\t\t\t\t\t\t</el-submenu>\n\t\t\t\t\t\t<el-submenu index=\"3\">\n\t\t\t\t\t\t\t<template slot=\"title\"><i class=\"el-icon-folder-opened\"></i><span>数据管理</span></template>\n\t\t\t\t\t\t\t<el-menu-item index=\"/end/goods\" v-if=\"user.role === 1\">数据上传</el-menu-item>\n              <el-menu-item index=\"/end/type\" v-if=\"user.role === 1\">数据分析</el-menu-item>\n<!--              <el-menu-item index=\"/end/goods\" v-if=\"user.role === 1\">商品管理</el-menu-item>-->\n<!--              <el-menu-item index=\"/end/hotgoods\" v-if=\"user.role === 1\">热销管理</el-menu-item>-->\n<!--              <el-menu-item index=\"/end/advertising\" v-if=\"user.role === 1\">广告位管理</el-menu-item>-->\n<!--              <el-menu-item index=\"/end/banner\" v-if=\"user.role === 1\">轮播图管理</el-menu-item>-->\n<!--              <el-menu-item index=\"/end/order\" v-if=\"user.role === 1\">订单管理</el-menu-item>-->\n<!--\t\t\t\t\t\t\t<el-menu-item index=\"/end/comment\">评论管理</el-menu-item>-->\n<!--\t\t\t\t\t\t\t<el-menu-item index=\"/end/address\" v-if=\"user.role !== 1\">地址管理</el-menu-item>-->\n\t\t\t\t\t\t</el-submenu>\n\t\t\t\t\t\t<el-submenu index=\"4\">\n\t\t\t\t\t\t\t<template slot=\"title\"><i class=\"el-icon-setting\"></i><span>系统管理</span></template>\n\t\t\t\t\t\t\t<el-menu-item index=\"/end/admin\">用户信息管理</el-menu-item>\n\t\t\t\t\t\t\t<el-menu-item index=\"/end/logout\" @click=\"logout()\">用户权限管理</el-menu-item>\n\t\t\t\t\t\t</el-submenu>\n          </el-menu>\n        </div>\n      </div>\n\n      <!--主体-->\n      <div class=\"main-body\">\n        <div>\n          <transition name=\"fade\" mode=\"out-in\">\n            <router-view />\n          </transition>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  name: \"ManagerLayout\",\n\n  data () {\n    return {\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\n    }\n  },\n\n  mounted() {\n    this.$bus.$on('updateTx', (tx) => {\n      this.user.tx = tx\n    })\n  },\n\n  methods: {\n    goToPerson() {\n\t\t\tif (this.user.role === 1) {\n\t\t\t\tthis.$router.push(\"/end/pAdmin\")\n\t\t\t}\n\t\t\tif (this.user.role === 2) {\n\t\t\t\tthis.$router.push(\"/end/pUser\")\n\t\t\t}\n\n    },\n    navToFront() {\n      // this.$router.push(\"/front/index\")\n      // location.reload()\n    },\n    logout() {\n      localStorage.removeItem(\"user\");\n      this.$router.push(\"/login\");\n    }\n  }\n\n}\n</script>\n\n<style scoped>\n  @import \"@/assets/css/manager.css\";\n</style>"],"mappings":";AA0EA,OAAAA,OAAA;AAEA;EACAC,IAAA;EAEAC,KAAA;IACA;MACAC,IAAA,EAAAC,YAAA,CAAAC,OAAA,WAAAC,IAAA,CAAAC,KAAA,CAAAH,YAAA,CAAAC,OAAA;IACA;EACA;EAEAG,QAAA;IACA,KAAAC,IAAA,CAAAC,GAAA,aAAAC,EAAA;MACA,KAAAR,IAAA,CAAAQ,EAAA,GAAAA,EAAA;IACA;EACA;EAEAC,OAAA;IACAC,WAAA;MACA,SAAAV,IAAA,CAAAW,IAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA;MACA,SAAAb,IAAA,CAAAW,IAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA;IAEA;IACAC,WAAA;MACA;MACA;IAAA,CACA;IACAC,OAAA;MACAd,YAAA,CAAAe,UAAA;MACA,KAAAJ,OAAA,CAAAC,IAAA;IACA;EACA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}